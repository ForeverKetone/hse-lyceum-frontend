(this["webpackJsonphse-bot"]=this["webpackJsonphse-bot"]||[]).push([[0],{18:function(e,t,a){},22:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(9),s=a.n(n),i=(a(18),a(2)),l=a(10),o=a(13),u=a(3);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var a,r,c=function(e,t){if(null==e)return{};var a,r,c={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}var m=r.createElement("defs",null,r.createElement("linearGradient",{id:"p0leOTPLvuNkjL_fSa~qVa",x1:24,x2:24,y1:9.109,y2:13.568,"data-name":"\\xD0\\x91\\xD0\\xB5\\xD0\\xB7\\xD1\\x8B\\xD0\\xBC\\xD1\\x8F\\xD0\\xBD\\xD0\\xBD\\xD1\\x8B\\xD0\\xB9 \\xD0\\xB3\\xD1\\x80\\xD0\\xB0\\xD0\\xB4\\xD0\\xB8\\xD0\\xB5\\xD0\\xBD\\xD1\\x82 6",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:0,stopColor:"#0077d2"}),r.createElement("stop",{offset:1,stopColor:"#0b59a2"})),r.createElement("linearGradient",{id:"p0leOTPLvuNkjL_fSa~qVb",x1:4.5,x2:4.5,y1:26.717,y2:41.786,xlinkHref:"#p0leOTPLvuNkjL_fSa~qVa"}),r.createElement("linearGradient",{id:"p0leOTPLvuNkjL_fSa~qVc",x1:43.5,x2:43.5,y1:26.717,y2:41.786,xlinkHref:"#p0leOTPLvuNkjL_fSa~qVa"}),r.createElement("linearGradient",{id:"p0leOTPLvuNkjL_fSa~qVd",x1:16,x2:16,y1:25.054,y2:43.495,xlinkHref:"#p0leOTPLvuNkjL_fSa~qVa"}),r.createElement("linearGradient",{id:"p0leOTPLvuNkjL_fSa~qVe",x1:32,x2:32,y1:25.054,y2:43.495,xlinkHref:"#p0leOTPLvuNkjL_fSa~qVa"})),h=r.createElement("rect",{width:2,height:6,x:23,y:8,fill:"url(#p0leOTPLvuNkjL_fSa~qVa)"}),b=r.createElement("path",{fill:"url(#p0leOTPLvuNkjL_fSa~qVb)",d:"M6,27H8a0,0,0,0,1,0,0V37a0,0,0,0,1,0,0H6a5,5,0,0,1-5-5v0A5,5,0,0,1,6,27Z"}),g=r.createElement("path",{fill:"url(#p0leOTPLvuNkjL_fSa~qVc)",d:"M40,27h2a5,5,0,0,1,5,5v0a5,5,0,0,1-5,5H40a0,0,0,0,1,0,0V27A0,0,0,0,1,40,27Z"}),j=r.createElement("path",{fill:"#199be2",d:"M24,13h0A18,18,0,0,1,42,31v8a2,2,0,0,1-2,2H8a2,2,0,0,1-2-2V31A18,18,0,0,1,24,13Z"}),d=r.createElement("circle",{cx:16,cy:31,r:6,fill:"url(#p0leOTPLvuNkjL_fSa~qVd)"}),O=r.createElement("circle",{cx:32,cy:31,r:6,fill:"url(#p0leOTPLvuNkjL_fSa~qVe)"}),p=r.createElement("circle",{cx:32,cy:31,r:4,fill:"#50e6ff"}),v=r.createElement("circle",{cx:32,cy:31,r:2,fill:"url(#p0leOTPLvuNkjL_fSa~qVe)"}),S=r.createElement("circle",{cx:16,cy:31,r:4,fill:"#50e6ff"}),y=r.createElement("circle",{cx:16,cy:31,r:2,fill:"url(#p0leOTPLvuNkjL_fSa~qVd)"}),L=r.createElement("circle",{cx:24,cy:8,r:2,fill:"#199be2"});function N(e,t){var a=e.title,c=e.titleId,n=x(e,["title","titleId"]);return r.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","data-name":"\\xD0\\xA1\\xD0\\xBB\\xD0\\xBE\\xD0\\xB9 1",viewBox:"0 0 48 48",ref:t,"aria-labelledby":c},n),a?r.createElement("title",{id:c},a):null,m,h,b,g,j,d,O,p,v,S,y,L)}var D=r.forwardRef(N),k=(a.p,a(1)),B=function(){return Object(k.jsx)("div",{className:"react-chatbot-kit-chat-bot-avatar",children:Object(k.jsx)("div",{className:"react-chatbot-kit-chat-bot-avatar-container",children:Object(k.jsx)(D,{className:"react-chatbot-kit-chat-bot-avatar-icon"})})})},w=(a(22),function(e){var t=e.setState;Object(r.useEffect)((function(){var e=new Date,a=e.getHours()+":"+("0"+e.getMinutes()).substr(-2);t((function(e){return Object(i.a)(Object(i.a)({},e),{},{time:a})}))}),[]);return Object(k.jsx)("div",{className:"timeWidget",children:Object(k.jsx)("ul",{className:"time-widget-list",children:Object(k.jsx)("li",{className:"time-widget-list-item",children:e.time},e.time.id)})})}),P=a(11),E=a(7),_=a(12),T=function(){function e(t,a){Object(E.a)(this,e),this.actionProvider=t,this.state=a}return Object(_.a)(e,[{key:"parse",value:function(e){var t=JSON.parse(localStorage.getItem("chat_messages"));t.push(Object(u.createClientMessage)(e)),localStorage.setItem("chat_messages",JSON.stringify(t));var a=e.toLowerCase();a.includes("\u0432\u0440\u0435\u043c")?this.actionProvider.timeHandler():this.actionProvider.apiHandler(a)}}]),e}(),C=a(8),M=function e(t,a,r){var c=this;Object(E.a)(this,e),this.timeHandler=function(){var e=c.createChatBotMessage("\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0432 \u041c\u043e\u0441\u043a\u0432\u0435:",{widget:"time"});c.addMessageToBotState(e)},this.apiHandler=function(e){fetch("https://hse-lyc.herokuapp.com/api/query?"+new URLSearchParams({question:e})).then((function(e){return e.json()})).then((function(e){return c.createChatBotMessage(e.bot_message)})).then((function(e){c.addMessageToBotState(e)}))},this.addMessageToBotState=function(e){Array.isArray(e)?c.setState((function(t){return Object(i.a)(Object(i.a)({},t),{},{messages:[].concat(Object(C.a)(t.messages),Object(C.a)(e))})})):c.setState((function(t){return Object(i.a)(Object(i.a)({},t),{},{messages:[].concat(Object(C.a)(t.messages),[e])})}));var t=JSON.parse(localStorage.getItem("chat_messages"));t.push(e),localStorage.setItem("chat_messages",JSON.stringify(t))},this.createChatBotMessage=t,this.setState=a,this.createClientMessage=r};a(25);var V=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],n=function(e){localStorage.setItem("chat_messages",JSON.stringify(e))},s=function(){return JSON.parse(localStorage.getItem("chat_messages"))};null===localStorage.getItem("startDate")?localStorage.setItem("startDate",new Date):Math.abs(new Date-Date.parse(localStorage.getItem("startDate")))>864e5&&localStorage.clear();var f=[];if(s()){var x,m=Object(l.a)(s().values());try{for(m.s();!(x=m.n()).done;){var h=x.value;"bot"===h.type?f.push(Object(u.createChatBotMessage)(h.message)):f.push(Object(u.createClientMessage)(h.message))}}catch(g){m.e(g)}finally{m.f()}}else localStorage.setItem("chat_messages",JSON.stringify([Object(u.createChatBotMessage)("\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435!\n\u042f \u0411\u043e\u0442 \u041b\u0438\u0446\u0435\u044f \u0412\u044b\u0448\u043a\u0438, \u0431\u0443\u0434\u0443 \u0440\u0430\u0434 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0441\u0430\u043c\u044b\u0435 \u0447\u0430\u0441\u0442\u043e\u0437\u0430\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043e \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0438!")])),f.push(Object(u.createChatBotMessage)("\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435!\n\u042f \u0411\u043e\u0442 \u041b\u0438\u0446\u0435\u044f \u0412\u044b\u0448\u043a\u0438, \u0431\u0443\u0434\u0443 \u0440\u0430\u0434 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0441\u0430\u043c\u044b\u0435 \u0447\u0430\u0441\u0442\u043e\u0437\u0430\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043e \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0438!"));var b={botName:"\u0411\u043e\u0442 \u041b\u0438\u0446\u0435\u044f \u0412\u044b\u0448\u043a\u0438",initialMessages:f,customComponents:{botAvatar:function(e){return Object(k.jsx)(B,Object(i.a)({},e))}},customStyles:{chatButton:{color:"0050CF",backgroundColor:"fff"}},state:{time:[]},widgets:[{widgetName:"time",widgetFunc:function(e){return Object(k.jsx)(w,Object(i.a)({},e))},mapStateToProps:["time"]}]};return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)("div",{className:"app-chatbot-container",children:Object(k.jsx)(P.ConditionallyRender,{ifTrue:a,show:Object(k.jsx)(u.Chatbot,{config:b,messageParser:T,actionProvider:M,saveMessages:n})})}),Object(k.jsx)("button",{className:"app-chatbot-button",onClick:function(){var e=s();c((function(e){return!e})),n(e)},children:Object(k.jsx)(D,{className:"app-chatbot-button-icon"})})]})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,27)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),r(e),c(e),n(e),s(e)}))};s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(V,{})}),document.getElementById("root")),q()}},[[26,1,2]]]);
//# sourceMappingURL=main.ba2c8bc8.chunk.js.map