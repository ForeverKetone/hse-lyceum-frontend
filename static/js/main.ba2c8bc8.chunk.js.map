{"version":3,"sources":["assets/icons/bot.svg","components/BotAvatar/BotAvatar.jsx","components/Time/Time.jsx","MessageParser.js","ActionProvider.js","App.js","reportWebVitals.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","id","x1","x2","y1","y2","gradientUnits","offset","stopColor","xlinkHref","_ref3","width","height","x","y","fill","_ref4","d","_ref5","_ref6","_ref7","cx","cy","r","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","SvgBot","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","viewBox","ref","ForwardRef","BotAvatar","className","Time","setState","useEffect","date","Date","formattedTime","getHours","getMinutes","substr","state","time","MessageParser","actionProvider","message","messages","JSON","parse","localStorage","getItem","push","createClientMessage","setItem","stringify","lowercase","toLowerCase","includes","timeHandler","apiHandler","ActionProvider","createChatBotMessage","setStateFunc","widget","addMessageToBotState","word","fetch","URLSearchParams","question","then","response","json","bot_message","Array","isArray","App","useState","showChatbot","toggleChatbot","saveMessages","loadMessages","Math","abs","clear","initialMessages","values","value","config","botName","customComponents","botAvatar","customStyles","chatButton","color","backgroundColor","widgets","widgetName","widgetFunc","mapStateToProps","ifTrue","show","messageParser","onClick","prev","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ba2c8bc8.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"p0leOTPLvuNkjL_fSa~qVa\",\n  x1: 24,\n  x2: 24,\n  y1: 9.109,\n  y2: 13.568,\n  \"data-name\": \"\\\\xD0\\\\x91\\\\xD0\\\\xB5\\\\xD0\\\\xB7\\\\xD1\\\\x8B\\\\xD0\\\\xBC\\\\xD1\\\\x8F\\\\xD0\\\\xBD\\\\xD0\\\\xBD\\\\xD1\\\\x8B\\\\xD0\\\\xB9 \\\\xD0\\\\xB3\\\\xD1\\\\x80\\\\xD0\\\\xB0\\\\xD0\\\\xB4\\\\xD0\\\\xB8\\\\xD0\\\\xB5\\\\xD0\\\\xBD\\\\xD1\\\\x82 6\",\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 0,\n  stopColor: \"#0077d2\"\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#0b59a2\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"p0leOTPLvuNkjL_fSa~qVb\",\n  x1: 4.5,\n  x2: 4.5,\n  y1: 26.717,\n  y2: 41.786,\n  xlinkHref: \"#p0leOTPLvuNkjL_fSa~qVa\"\n}), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"p0leOTPLvuNkjL_fSa~qVc\",\n  x1: 43.5,\n  x2: 43.5,\n  y1: 26.717,\n  y2: 41.786,\n  xlinkHref: \"#p0leOTPLvuNkjL_fSa~qVa\"\n}), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"p0leOTPLvuNkjL_fSa~qVd\",\n  x1: 16,\n  x2: 16,\n  y1: 25.054,\n  y2: 43.495,\n  xlinkHref: \"#p0leOTPLvuNkjL_fSa~qVa\"\n}), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"p0leOTPLvuNkjL_fSa~qVe\",\n  x1: 32,\n  x2: 32,\n  y1: 25.054,\n  y2: 43.495,\n  xlinkHref: \"#p0leOTPLvuNkjL_fSa~qVa\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"rect\", {\n  width: 2,\n  height: 6,\n  x: 23,\n  y: 8,\n  fill: \"url(#p0leOTPLvuNkjL_fSa~qVa)\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"url(#p0leOTPLvuNkjL_fSa~qVb)\",\n  d: \"M6,27H8a0,0,0,0,1,0,0V37a0,0,0,0,1,0,0H6a5,5,0,0,1-5-5v0A5,5,0,0,1,6,27Z\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"url(#p0leOTPLvuNkjL_fSa~qVc)\",\n  d: \"M40,27h2a5,5,0,0,1,5,5v0a5,5,0,0,1-5,5H40a0,0,0,0,1,0,0V27A0,0,0,0,1,40,27Z\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#199be2\",\n  d: \"M24,13h0A18,18,0,0,1,42,31v8a2,2,0,0,1-2,2H8a2,2,0,0,1-2-2V31A18,18,0,0,1,24,13Z\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16,\n  cy: 31,\n  r: 6,\n  fill: \"url(#p0leOTPLvuNkjL_fSa~qVd)\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 32,\n  cy: 31,\n  r: 6,\n  fill: \"url(#p0leOTPLvuNkjL_fSa~qVe)\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 32,\n  cy: 31,\n  r: 4,\n  fill: \"#50e6ff\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 32,\n  cy: 31,\n  r: 2,\n  fill: \"url(#p0leOTPLvuNkjL_fSa~qVe)\"\n});\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16,\n  cy: 31,\n  r: 4,\n  fill: \"#50e6ff\"\n});\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16,\n  cy: 31,\n  r: 2,\n  fill: \"url(#p0leOTPLvuNkjL_fSa~qVd)\"\n});\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 24,\n  cy: 8,\n  r: 2,\n  fill: \"#199be2\"\n});\n\nfunction SvgBot(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    \"data-name\": \"\\\\xD0\\\\xA1\\\\xD0\\\\xBB\\\\xD0\\\\xBE\\\\xD0\\\\xB9 1\",\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBot);\nexport default __webpack_public_path__ + \"static/media/bot.863e2940.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\n\r\nimport { ReactComponent as BotIcon } from \"../../assets/icons/bot.svg\";\r\n\r\nconst BotAvatar = () => {\r\n  return (\r\n    <div className=\"react-chatbot-kit-chat-bot-avatar\">\r\n      <div className=\"react-chatbot-kit-chat-bot-avatar-container\">\r\n        <BotIcon className=\"react-chatbot-kit-chat-bot-avatar-icon\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BotAvatar;\r\n","import React, {useEffect} from 'react';\r\n\r\nimport './Time.css'\r\n\r\nconst Time = (props) => {\r\n  const { setState } = props\r\n\r\n  useEffect(() => {\r\n      var date = new Date();\r\n      var hours = date.getHours();\r\n      var minutes = \"0\" + date.getMinutes();\r\n      var formattedTime = hours + ':' + minutes.substr(-2);\r\n      setState(state => ({...state, time: formattedTime}))\r\n  }, [])\r\n\r\n  const renderTime = () => {\r\n    return (<li className=\"time-widget-list-item\" key={props.time.id}>\r\n        {props.time}\r\n            </li>\r\n            );\r\n  };\r\n\r\n  return <div className = \"timeWidget\" >\r\n        <ul className=\"time-widget-list\">\r\n            {renderTime()}\r\n        </ul>\r\n  </div>\r\n};\r\n\r\nexport default Time;\r\n","import { createClientMessage } from 'react-chatbot-kit'\r\n\r\nclass MessageParser {\r\n  constructor(actionProvider, state) {\r\n    this.actionProvider = actionProvider;\r\n    this.state = state;\r\n  }\r\n\r\n\r\n  parse(message) {\r\n    var messages = JSON.parse(localStorage.getItem(\"chat_messages\"))\r\n    messages.push(createClientMessage(message))\r\n    localStorage.setItem(\"chat_messages\", JSON.stringify(messages));\r\n\r\n    const lowercase = message.toLowerCase()\r\n\r\n    if (lowercase.includes(\"врем\")) {\r\n        this.actionProvider.timeHandler()\r\n    } else {\r\n          this.actionProvider.apiHandler(lowercase)\r\n    }\r\n\r\n    }\r\n}\r\n\r\nexport default MessageParser;\r\n\r\n// new MessageParser(actionProvider, state):\r\n","class ActionProvider {\r\n  constructor(createChatBotMessage, setStateFunc, createClientMessage) {\r\n    this.createChatBotMessage = createChatBotMessage;\r\n    this.setState = setStateFunc;\r\n    this.createClientMessage = createClientMessage;\r\n  }\r\n\r\n  timeHandler = () => {\r\n    const message = this.createChatBotMessage(\"Текущее время в Москве:\",{\r\n      widget: \"time\"\r\n    });\r\n    this.addMessageToBotState(message)\r\n  }\r\n\r\n  apiHandler = (word) => {\r\n    fetch(`https://hse-lyc.herokuapp.com/api/query?`+ new URLSearchParams({\r\n        question: word\r\n      })\r\n    )\r\n      .then(response => response.json())\r\n        .then(json => this.createChatBotMessage(json.bot_message))\r\n          .then(message => {this.addMessageToBotState(message);});\r\n\r\n  }\r\n\r\n  addMessageToBotState = (message) => {\r\n   if (Array.isArray(message)) {\r\n     this.setState((state) => ({\r\n       ...state,\r\n       messages: [...state.messages, ...message],\r\n     }));\r\n   } else {\r\n     this.setState((state) => ({\r\n       ...state,\r\n       messages: [...state.messages, message],\r\n     }));\r\n   }\r\n   var messages = JSON.parse(localStorage.getItem(\"chat_messages\"))\r\n   messages.push(message)\r\n   localStorage.setItem(\"chat_messages\", JSON.stringify(messages));\r\n };\r\n}\r\n\r\nexport default ActionProvider;\r\n","import React, { useState } from \"react\";\nimport { Chatbot, createChatBotMessage ,createClientMessage } from 'react-chatbot-kit'\nimport BotAvatar from \"./components/BotAvatar/BotAvatar\";\nimport Time from './components/Time/Time'\nimport { ConditionallyRender } from \"react-util-kit\";\n\nimport { ReactComponent as Chat } from \"./assets/icons/bot.svg\";\n\nimport MessageParser from './MessageParser'\nimport ActionProvider from './ActionProvider'\n\nimport './App.css';\n\nfunction App() {\n  const [showChatbot, toggleChatbot] = useState(false);\n\n  const saveMessages = (messages) => {\n    localStorage.setItem(\"chat_messages\", JSON.stringify(messages));\n  };\n  const loadMessages = () => {\n    const messages = JSON.parse(localStorage.getItem(\"chat_messages\"));\n    return messages;\n  };\n\n  if (localStorage.getItem(\"startDate\") === null){\n    localStorage.setItem(\"startDate\", new Date())\n  } else {\n    if (Math.abs(new Date() - Date.parse(localStorage.getItem('startDate')))>86400000){\n      localStorage.clear()\n    }\n  }\n\n  var initialMessages = []\n  if (loadMessages()){\n    for (const value of loadMessages().values()) {\n      if (value['type'] === 'bot'){\n        initialMessages.push(createChatBotMessage(value['message']));\n      } else{\n        initialMessages.push(createClientMessage(value['message']));\n      }\n    }\n  } else {\n    localStorage.setItem('chat_messages', JSON.stringify([createChatBotMessage(\"Здравствуйте!\\nЯ Бот Лицея Вышки, буду рад ответить на самые частозадаваемые вопросы о поступлении!\")]))\n    initialMessages.push(createChatBotMessage(\"Здравствуйте!\\nЯ Бот Лицея Вышки, буду рад ответить на самые частозадаваемые вопросы о поступлении!\"));\n  }\n\n  var config = {\n    botName: \"Бот Лицея Вышки\",\n    initialMessages: initialMessages,\n    customComponents: {\n      botAvatar: (props) => <BotAvatar {...props} />,\n    },\n    customStyles: {\n      chatButton: {\n        color: \"0050CF\",\n        backgroundColor: \"fff\",\n      },\n    },\n    state: {\n      time: []\n    },\n    widgets:[\n      {\n        widgetName: \"time\",\n        widgetFunc: (props) => <Time {...props} />,\n        mapStateToProps: [\"time\"],\n      }\n    ]\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"app-chatbot-container\">\n        <ConditionallyRender\n            ifTrue={showChatbot}\n            show={\n              <Chatbot\n                config={config}\n                messageParser={MessageParser}\n                actionProvider={ActionProvider}\n                saveMessages={saveMessages}\n              />\n            }\n        />\n      </div>\n\n      <button\n        className=\"app-chatbot-button\"\n        onClick={() => {\n                        var messages = loadMessages();\n                        toggleChatbot((prev) => !prev);\n                        saveMessages(messages);\n                        }\n                }\n      >\n        <Chat className=\"app-chatbot-button-icon\" />\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}